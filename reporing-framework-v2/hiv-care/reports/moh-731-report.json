[
  {
    "name": "MOH-731-report",
    "table":{"schema":"","tableName":"","alias":"moh731main","dynamicDataset":"moh-731-monthly-one-row-per-patient"},
    "joins":[
      {"joinType":"LEFT OUTER JOIN","schema":"","alias":"moh731monthly","joinExpression":"moh731monthly.location_id = moh731main.location_id",
        "dynamicDataset":"moh-731-monthly"},
      {"joinType":"LEFT OUTER JOIN","schema":"","alias":"moh731_12month","joinExpression":"moh731_12month.location_id = moh731main.location_id",
        "dynamicDataset":"moh-731-12month"},
      {"joinType":"LEFT OUTER JOIN","schema":"","alias":"moh731_cumulative","joinExpression":"moh731_cumulative.location_id = moh731main.location_id",
          "dynamicDataset":"moh-731-cumulative"}
    ],
    "filters": [
      {"expression":"t1.location_id in ?","parameter":"locations"}
    ],
    "groupClause":[
      {"parameter":"groupByLocation"},
      {"parameter":"groupByMonth"}
    ],
    "indicators": [
      {
          "name":"on_arvs",
          "label":"On ARVs",
          "expression":"on_arvs",
          "sql":"count(distinct if($expression,t1.person_id,null))"
      },
      {
          "name":"enrolled_in_care",
          "label":"Enrolled In Care",
          "expression":"enrolled_in_care",
          "sql":"count(distinct t1.person_id)"
      }
    ],
    "privileges":[
      "canViewPatient"
    ],
    "supplementColumns":[
    ]
  }
]
